

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Generate Basic Code &mdash; Embedded Tutorials 1.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=cb963dba" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=fc837d61"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
      <script src="../../_static/custom.js?v=5fde6192"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Build setup" href="build_setup.html" />
    <link rel="prev" title="Basic Setup" href="../basic_setup.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Embedded Tutorials
              <img src="../../_static/club-logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../arduino_basics_tutorial.html">Arduino Basics Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../stm32_basics_tutorial.html">STM32 Basics Tutorial</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../basic_setup.html">Basic Setup</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Generate Basic Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="build_setup.html">Build setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="flash_binary.html">Flash Binary</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gpio.html">GPIO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usb.html">USB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../swd.html">SWD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../uart.html">UART</a></li>
<li class="toctree-l2"><a class="reference internal" href="../timer.html">Timer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../intermediate_tutorial.html">Intermediate Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../highlights.html">Highlights</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Embedded Tutorials</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../stm32_basics_tutorial.html">STM32 Basics Tutorial</a></li>
          <li class="breadcrumb-item"><a href="../basic_setup.html">Basic Setup</a></li>
      <li class="breadcrumb-item active">Generate Basic Code</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/Robotics-Club-Pulchowk/EmbeddedTutorials/blob/main/source/stm32_basics_tutorial/basic_setup/generate_basic_code.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="generate-basic-code">
<h1>Generate Basic Code<a class="headerlink" href="#generate-basic-code" title="Link to this heading"></a></h1>
<nav class="contents local" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#microcontroller-selection" id="id1">1. Microcontroller Selection</a></p></li>
<li><p><a class="reference internal" href="#pinout-configuration" id="id2">2. Pinout &amp; Configuration</a></p></li>
<li><p><a class="reference internal" href="#clock-configuration" id="id3">3. Clock Configuration</a></p></li>
<li><p><a class="reference internal" href="#project-manager" id="id4">4. Project Manager</a></p>
<ul>
<li><p><a class="reference internal" href="#project" id="id5">4.1. Project</a></p></li>
<li><p><a class="reference internal" href="#code-generator" id="id6">4.2. Code Generator</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="microcontroller-selection">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">1. Microcontroller Selection</a><a class="headerlink" href="#microcontroller-selection" title="Link to this heading"></a></h2>
<ul>
<li><p>Open <code class="docutils literal notranslate"><span class="pre">STM32CubeMX</span></code>.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">New</span> <span class="pre">Project</span></code>.</p></li>
<li><p>Select <code class="docutils literal notranslate"><span class="pre">MCU/MPU</span> <span class="pre">Selector</span></code> if you want to select microcontroller IC number or select <code class="docutils literal notranslate"><span class="pre">Board</span> <span class="pre">Selector</span></code> if you want to select using development board number. For example, <strong>STM32F407G-DISC1</strong> from <code class="docutils literal notranslate"><span class="pre">Board</span> <span class="pre">Selector</span></code> or <strong>STM32F407VG</strong> from <code class="docutils literal notranslate"><span class="pre">MCU/MPU</span> <span class="pre">Selector</span></code>.</p></li>
<li><p>Select particular microcontroller from list on right side and click <code class="docutils literal notranslate"><span class="pre">Start</span> <span class="pre">Project</span></code>.</p>
<a class="reference internal image-reference" href="../../_images/board_selector.webp"><img alt="Board Selector" src="../../_images/board_selector.webp" style="width: 100%;" />
</a>
</li>
</ul>
<p>You might be asked to initialize peripheral with their <strong>default mode</strong>. Click <code class="docutils literal notranslate"><span class="pre">No</span></code>. But if you want to use default mode, click <code class="docutils literal notranslate"><span class="pre">Yes</span></code>.</p>
</section>
<section id="pinout-configuration">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">2. Pinout &amp; Configuration</a><a class="headerlink" href="#pinout-configuration" title="Link to this heading"></a></h2>
<ul>
<li><p>Clear default pinouts by pressing <code class="docutils literal notranslate"><span class="pre">Ctrl</span> <span class="pre">+</span> <span class="pre">P</span></code> and <code class="docutils literal notranslate"><span class="pre">Enter</span></code>. This is not recommended as some pins are already used with other peripherals on the board and might cause problems if you use them. But for now, just do as we are not using them.</p></li>
<li><p>Go to <code class="docutils literal notranslate"><span class="pre">RCC</span> <span class="pre">&gt;</span> <span class="pre">High</span> <span class="pre">Speed</span> <span class="pre">Clock</span> <span class="pre">(HSE)</span></code> and select <code class="docutils literal notranslate"><span class="pre">Crystal</span> <span class="pre">Ceramic</span> <span class="pre">Resonator</span></code>.</p>
<a class="reference internal image-reference" href="../../_images/rcc.webp"><img alt="RCC" src="../../_images/rcc.webp" style="width: 100%;" />
</a>
</li>
<li><p>Go to <code class="docutils literal notranslate"><span class="pre">SYS</span> <span class="pre">&gt;</span> <span class="pre">Debug</span></code> and select <code class="docutils literal notranslate"><span class="pre">Serial</span> <span class="pre">Wire</span></code>.</p>
<a class="reference internal image-reference" href="../../_images/sw.webp"><img alt="SW" src="../../_images/sw.webp" style="width: 100%;" />
</a>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><strong>ITM</strong> uses <strong>SWO</strong>. If you use <strong>ITM</strong>, select <code class="docutils literal notranslate"><span class="pre">Debug</span></code> option as <code class="docutils literal notranslate"><span class="pre">Trace</span> <span class="pre">Asynchronous</span> <span class="pre">SW</span></code> in <strong>STM32CubeMX</strong> configuration.</p>
</div>
</li>
</ul>
<p>Now you can select pins for LED, UART, Timers and many more. But leave them for now.</p>
</section>
<section id="clock-configuration">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">3. Clock Configuration</a><a class="headerlink" href="#clock-configuration" title="Link to this heading"></a></h2>
<ul>
<li><p>Specify <code class="docutils literal notranslate"><span class="pre">HCLK</span> <span class="pre">(MHx)</span></code>. We prefer to use maximum clock frequency. For example, <strong>168 MHz</strong> if using <strong>STM32F407VGT6</strong> or <strong>72 MHz</strong> if using <strong>STM32F103C8</strong>.</p>
<a class="reference internal image-reference" href="../../_images/clock.webp"><img alt="Clock" src="../../_images/clock.webp" style="width: 100%;" />
</a>
</li>
</ul>
</section>
<section id="project-manager">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">4. Project Manager</a><a class="headerlink" href="#project-manager" title="Link to this heading"></a></h2>
<section id="project">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">4.1. Project</a><a class="headerlink" href="#project" title="Link to this heading"></a></h3>
<blockquote>
<div><ul>
<li><p>Write <code class="docutils literal notranslate"><span class="pre">Project</span> <span class="pre">Name</span></code>.</p></li>
<li><p>Write <code class="docutils literal notranslate"><span class="pre">Project</span> <span class="pre">Location`</span></code>.</p></li>
<li><p>Select <code class="docutils literal notranslate"><span class="pre">Toolchanin/IDE</span></code>. We prefer to choose <strong>Makefile</strong>. <strong>CMake</strong> is new in <strong>STM32CubeMX</strong>. You can use both parallelly without any problem as generating for one tool does not remove other tool. <strong>CubeIDE</strong> is the best as it has many features and easy to use but it is heavy so we do not use as much.</p>
<a class="reference internal image-reference" href="../../_images/project.webp"><img alt="Project" src="../../_images/project.webp" style="width: 100%;" />
</a>
</li>
</ul>
</div></blockquote>
</section>
<section id="code-generator">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">4.2. Code Generator</a><a class="headerlink" href="#code-generator" title="Link to this heading"></a></h3>
<blockquote>
<div><ul>
<li><p>Select copy all used libraries in to the project folder.</p></li>
<li><p>Tick:</p>
<ul class="simple">
<li><p>Generate peripheral initialization as a pair ‘.c/.h’ file per peripheral.</p></li>
<li><p>Keep user code when regenerating.</p></li>
<li><p>Delete priviously generated file when not in use.</p></li>
</ul>
</li>
<li><p>Generate code by clicking <code class="docutils literal notranslate"><span class="pre">GENERATE</span> <span class="pre">CODE</span></code>.</p>
<a class="reference internal image-reference" href="../../_images/code_generator.webp"><img alt="Code Generator" src="../../_images/code_generator.webp" style="width: 100%;" />
</a>
</li>
</ul>
</div></blockquote>
<p>Navigate to project folder, open it using <code class="docutils literal notranslate"><span class="pre">VSCODE</span></code>. If you chose <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> as your toolchain, you would find <code class="docutils literal notranslate"><span class="pre">Makefile`</span></code> in the project folder. If you chose <code class="docutils literal notranslate"><span class="pre">CMake</span></code> as your toolchain, you would find <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> in the project folder.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For practice, generate using both <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> and <code class="docutils literal notranslate"><span class="pre">CMake</span></code>.</p>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../basic_setup.html" class="btn btn-neutral float-left" title="Basic Setup" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="build_setup.html" class="btn btn-neutral float-right" title="Build setup" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024 - 2025, Robotics Club, Pulchowk Campus.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>